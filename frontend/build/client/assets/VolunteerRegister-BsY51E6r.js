import{w as j}from"./with-props-BqwZr1IK.js";import{j as e,r as d}from"./chunk-IR6S3I6Y-C6Zvu3tq.js";import{P as w}from"./PageTransition-1p6Ne89E.js";import{m as o}from"./proxy-7hmYPAw3.js";import{G as N}from"./UserContext-BcfRxPbJ.js";import{H as v,a as S,b as C,M as k}from"./constants-CigxhbVp.js";import{C as P}from"./CompleteStep-tSq5G5pi.js";import{a as E}from"./api-BXsSQKvn.js";import{A as _}from"./index-CrwWTF06.js";const A=({onNext:t})=>e.jsxs("div",{className:"text-center",children:[e.jsx(o.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5},className:"text-6xl mb-6",children:"ðŸ‘‹"}),e.jsx(o.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-3xl font-bold text-gray-900 mb-4",children:"Welcome to Volunteera"}),e.jsx(o.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-gray-600 mb-8",children:"Join our community of volunteers and make a difference in your local area."}),e.jsx(o.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},onClick:t,className:"px-8 py-3 bg-blue-500 text-white rounded-full font-medium hover:bg-blue-600 transform hover:scale-105 transition-all duration-200",children:"Let's Get Started"})]}),T=({formData:t,setFormData:i,onNext:m,onBack:p})=>{const[y,u]=d.useState(""),[c,n]=d.useState(""),x=s=>{s.preventDefault(),c=="Password is strong."&&t.password==t.password2&&m()},g=async s=>{try{const l=await fetch("/api/auth/google/callback/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({access_token:s.credential,user_type:"volunteer"})});if(await l.json(),!l.ok)throw new Error("Google registration failed")}catch(l){console.log(l.message)}},h=s=>{const l=k,a=v,r=S,b=C;s.length<l?n("Password must be at least 8 characters."):a.test(s)?r.test(s)?b.test(s)?n("Password is strong."):n("Password must include an uppercase letter."):n("Password must include a special character."):n("Password must include a number.")};return e.jsxs(o.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[e.jsx(N,{onSuccess:g,onError:()=>u("Google registration failed"),className:"mb-4",containerProps:{allow:"identity-credentials-get"},use_fedcm_for_prompt:!0}),e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),e.jsx("input",{type:"text",required:!0,value:t.f_name,onChange:s=>i({...t,f_name:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),e.jsx("input",{type:"text",required:!0,value:t.l_name,onChange:s=>i({...t,l_name:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),e.jsx("input",{type:"text",required:!0,value:t.display_name,onChange:s=>i({...t,display_name:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",required:!0,value:t.email,onChange:s=>i({...t,email:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("input",{id:"password",type:"password",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500",onChange:s=>{const l=s.target.value;i({...t,password:l}),h(l)}})]}),e.jsx("p",{id:"message",className:"text-sm mt-1 text-black font-bold",children:c}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password Again"}),e.jsx("input",{type:"password",required:!0,value:t.password2,onChange:s=>i({...t,password2:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx("button",{type:"button",onClick:p,className:"px-6 py-2 border border-gray-300 rounded-full text-gray-700 hover:bg-gray-50 transition-colors",children:"Back"}),e.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-colors",children:"Continue"})]})]})]})},L={Animal:"ðŸ¶",Elderly:"ðŸ‘µ","Greener Planet":"ðŸŒ±",Sports:"âš½",Medical:"ðŸ§¬",Disability:"â™¿",Community:"ðŸ¤",Educational:"ðŸŽ“"},G=({interests:t,selectedInterests:i,onToggle:m,onNext:p,onBack:y})=>{const u={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},c={hidden:{y:20,opacity:0},show:{y:0,opacity:1}};return e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx(o.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"What causes interest you?"}),e.jsx(o.div,{variants:u,initial:"hidden",animate:"show",className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-8",children:t.map(n=>e.jsx(o.div,{variants:c,whileHover:{scale:1.03},whileTap:{scale:.98},children:e.jsxs("button",{onClick:()=>m(n.id),className:`w-full p-4 rounded-xl border-2 transition-all duration-200 flex flex-col items-center gap-2
                ${i.includes(n.id)?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300 text-gray-600 hover:bg-gray-50"}`,children:[e.jsx("span",{className:"text-3xl",children:L[n.category]}),e.jsx("span",{className:"font-medium",children:n.name})]})},n.id))}),e.jsxs(o.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"flex justify-between",children:[e.jsx("button",{onClick:y,className:"px-6 py-2 border border-gray-300 rounded-full text-gray-700 hover:bg-gray-50 transition-colors",children:"Back"}),e.jsx("button",{onClick:p,disabled:i.length===0,className:`px-6 py-2 rounded-full text-white transition-all duration-200
            ${i.length>0?"bg-blue-500 hover:bg-blue-600":"bg-gray-300 cursor-not-allowed"}`,children:"Continue"})]})]})},f=[{id:"welcome",title:"Welcome to Volunteera",description:"Let's get you started on your volunteering journey",icon:"ðŸ‘‹"},{id:"basic",title:"Basic Information",description:"Tell us a bit about yourself",icon:"ðŸ‘¤"},{id:"interests",title:"Your Interests",description:"Which causes are you passionate about?",icon:"â¤ï¸"},{id:"complete",title:"All Set!",description:"Ready to make a difference",icon:"ðŸŽ‰"}],I=()=>{const[t,i]=d.useState(0),[m,p]=d.useState([]),[y,u]=d.useState(!0),[c,n]=d.useState({f_name:"",l_name:"",display_name:"",email:"",password:"",password2:"",interests:[]}),x=()=>{i(a=>Math.min(a+1,f.length-1))},g=()=>{i(a=>Math.max(a-1,0))};async function h(){try{const a=await fetch("/api/auth/volunteer/register/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}),r=await a.json();if(!a.ok)throw new Error(r.error||"Registration failed")}catch(a){console.log(a.message)}}d.useEffect(()=>{(async()=>{try{u(!0);const r=await E.get("/interests/");p(r)}catch(r){console.error("Error fetching interests:",r)}finally{u(!1)}})()},[]);const s=a=>{n(r=>({...r,interests:r.interests.includes(a)?r.interests.filter(b=>b!==a):[...r.interests,a]}))},l=()=>{switch(t){case 0:return e.jsx(A,{onNext:x});case 1:return e.jsx(T,{formData:c,setFormData:n,onNext:x,onBack:g});case 2:return e.jsx(G,{interests:m,selectedInterests:c.interests,onToggle:s,onNext:x,onBack:g});case 3:return h(),e.jsx(P,{type:"volunteer"});default:return null}};return e.jsx(w,{children:e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-16",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"flex justify-between mb-2",children:f.map((a,r)=>e.jsxs(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-xl
                      ${r<=t?"bg-blue-500 text-white":"bg-gray-200 text-gray-400"}`,children:a.icon}),e.jsx("div",{className:"hidden md:block text-sm mt-2 text-gray-500",children:a.title})]},a.id))}),e.jsx("div",{className:"relative h-2 bg-gray-200 rounded-full",children:e.jsx(o.div,{className:"absolute left-0 top-0 h-full bg-blue-500 rounded-full",initial:{width:"0%"},animate:{width:`${t/(f.length-1)*100}%`},transition:{duration:.3}})})]}),e.jsx(_,{mode:"wait",children:e.jsx(o.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:l()},t)})]})})})},U=j(I);export{U as default};
